1GB=10的9次方Byte
16bit=2byte，1B约等于2G
参数量为ΦB约等于显存占用2ΦG

模型参数

梯度：与参数一一对应

优化器状态：Adam优化器会为每个参数保存动量和方差，这两个值和参数一一对应，混合精度下每个参数多一个master参数

激活值：Batch Size、Sequence Length相关

混合精度计算时：一般是模型参数采用fp16，其它保存的都是fp32

![[16-微调大模型显存计算.png]]
### **优化策略**

1. **梯度检查点（Gradient Checkpointing）**：牺牲计算时间换取显存，激活值占用可减少60-70%。
2. **ZeRO优化**（如DeepSpeed）：通过分片优化器状态、梯度和参数，显存占用可降低至 **30-50 GB**。
3. **降低批次大小/序列长度**：直接减少激活值占用。
